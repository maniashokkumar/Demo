<div class="popup-overlay" *ngIf="isOpen" (click)="closePopup()">
  <div class="popup-content" (click)="onPopupClick($event)">
    <button class="close-button" (click)="closePopup()">
      <i class="fas fa-times"></i>
    </button>

    <div class="course-card">
      <div class="course-image">
        <img src="https://img.freepik.com/free-photo/child-making-robot_23-2148863405.jpg" alt="STEM Education Course">
      </div>
      <div class="course-info">
        <h2>{{ courseName }}</h2>
        <p>{{ courseDescription }}</p>
        <div class="info-row">
          <div class="info-item selected-date">
            <i class="far fa-calendar-alt"></i>
            <span>{{ selectedDate || 'Date not selected' }}</span>
          </div>
          <div class="info-item price-info">
            <div class="current-price">
              <i class="fas fa-tag"></i>
              <span>{{ currentPrice }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="form-container">
      <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="registration-form">
        <div class="form-group">
          <label for="fullName">Full Name *</label>
          <input 
            type="text" 
            id="fullName" 
            formControlName="fullName" 
            placeholder="Enter your full name"
            [class.error]="registrationForm.get('fullName')?.invalid && registrationForm.get('fullName')?.touched">
          <div class="error-message" *ngIf="registrationForm.get('fullName')?.invalid && registrationForm.get('fullName')?.touched">
            Please enter a valid name (minimum 3 characters)
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email Address *</label>
          <input 
            type="email" 
            id="email" 
            formControlName="email" 
            placeholder="Enter your email address"
            [class.error]="registrationForm.get('email')?.invalid && registrationForm.get('email')?.touched">
          <div class="error-message" *ngIf="registrationForm.get('email')?.invalid && registrationForm.get('email')?.touched">
            Please enter a valid email address
          </div>
        </div>

        <div class="form-group">
          <label for="phoneNumber">Phone Number (Optional)</label>
          <input 
            type="tel" 
            id="phoneNumber" 
            formControlName="phoneNumber" 
            placeholder="Enter your phone number">
        </div>

        <input type="hidden" formControlName="courseName">
        <input type="hidden" formControlName="selectedDate">
        <input type="hidden" formControlName="originalPrice">
        <input type="hidden" formControlName="currentPrice">

        <div class="checkbox-group">
          <div class="checkbox-item">
            <input type="checkbox" id="termsAccepted" formControlName="termsAccepted">
            <label for="termsAccepted">I accept the terms and conditions *</label>
          </div>

          <div class="checkbox-item">
            <input type="checkbox" id="privacyAccepted" formControlName="privacyAccepted">
            <label for="privacyAccepted">I accept the privacy policy *</label>
          </div>

          <div class="checkbox-item">
            <input type="checkbox" id="newsletterSubscription" formControlName="newsletterSubscription">
            <label for="newsletterSubscription">Subscribe to our newsletter</label>
          </div>
        </div>

        <button type="submit" class="submit-button" [disabled]="registrationForm.invalid">
          <span>Register Now</span>
        </button>
      </form>
    </div>
  </div>
</div> 